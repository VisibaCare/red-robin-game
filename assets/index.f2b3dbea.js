var B=Object.defineProperty;var X=(a,e,i)=>e in a?B(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;var s=(a,e,i)=>(X(a,typeof e!="symbol"?e+"":e,i),i);import{T as b,a as p,G as m,b as u,S as w,r as Z,C,L as G,O as K,W as H,A as Y,c as d}from"./vendor.ae6659e5.js";const I=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const h of r)if(h.type==="childList")for(const o of h.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const h={};return r.integrity&&(h.integrity=r.integrity),r.referrerpolicy&&(h.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?h.credentials="include":r.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function t(r){if(r.ep)return;r.ep=!0;const h=i(r);fetch(r.href,h)}};I();class x{static getMainTextStyle(e,i){const t=new b({fillGradientType:1,fillGradientStops:[0],fontFamily:'"Courier New", Courier, monospace',fontSize:i!=null?i:55,fontVariant:"small-caps",fontWeight:"bold",lineHeight:50});let r=["white"];return e&&r.push("#b5d4dd"),t.fill=r,t}static getSecondaryTextStyle(){return new b({fontFamily:"cedarvilleCursive",fontSize:40,fill:13794728})}}class q{constructor(e,i,t){s(this,"stage");s(this,"screen");s(this,"restartButton");s(this,"highScoreText");s(this,"newHighScoreText");s(this,"shouldExit");var k,T;this.stage=e,this.screen=t;const r=parseInt((k=window.localStorage.getItem("highScore"))!=null?k:"0"),h=parseInt((T=window.localStorage.getItem("lastScore"))!=null?T:"0"),o=new p(`Score: ${h}
Highscore: ${r}`);o.style=x.getMainTextStyle(!0,40),o.x=this.screen.width/2,o.y=this.screen.height/2-125,o.anchor.set(.5),this.highScoreText=o;const l=new p("You set a new highscore!");l.style=new b({fontFamily:"cedarvilleCursive",fontSize:40,fill:13794728}),l.x=this.screen.width/2-20,l.y=this.screen.height/2-50,l.anchor.set(.5),h>=r?l.visible=!0:l.visible=!1,this.newHighScoreText=l;const n=new m;n.x=this.screen.width/2-100,n.y=this.screen.height/2,n.beginFill(13993902),n.drawRoundedRect(0,0,200,75,16);const y=new p("restart");y.style=x.getMainTextStyle(!1),y.x=100,y.anchor.set(.5),y.y=30,n.addChild(y),n.interactive=!0,n.on("pointerdown",()=>this._onClick()),n.on("pointerover",()=>this._onHover()),n.on("pointerout",()=>this._onOut()),this.restartButton=n;const f=new u(i,t.width,t.height);f.x=0,f.tint=13091023,f.tileScale.set(.5),f.tilePosition.x=-433,f.tilePosition.y=-5,this.shouldExit=!1,e.addChild(f),e.addChild(o),e.addChild(l),e.addChild(n)}update(){var t,r;const e=parseInt((t=window.localStorage.getItem("highScore"))!=null?t:"0"),i=parseInt((r=window.localStorage.getItem("lastScore"))!=null?r:"0");this.highScoreText.text=`Score: ${i}
Highscore: ${e}`,i>=e?this.newHighScoreText.visible=!0:this.newHighScoreText.visible=!1}_onClick(){this.shouldExit=!0}_onHover(){this.restartButton.tint=13091023}_onOut(){this.restartButton.tint=16777215}}class A{constructor(e){s(this,"layer1");s(this,"layer2");s(this,"layer3");s(this,"layer4");s(this,"layer5");s(this,"layer6");s(this,"layer7");s(this,"layer8");s(this,"layer9");this.layer1=new u(e.resources.layer1,e.screen.width,e.screen.height),this.layer1.tileScale.set(.5),this.layer1.zIndex=-100,this.layer1.tint=12828105,this.layer2=new u(e.resources.layer2,e.screen.width,e.screen.height),this.layer2.tileScale.set(.5),this.layer2.zIndex=-100,this.layer2.tint=11642557,this.layer3=new u(e.resources.layer3,e.screen.width,e.screen.height),this.layer3.tileScale.set(.5),this.layer3.zIndex=-100,this.layer3.tint=10523565,this.layer4=new u(e.resources.layer4,e.screen.width,e.screen.height),this.layer4.tileScale.set(.5),this.layer4.zIndex=-100,this.layer4.tint=12828105,this.layer5=new w(e.resources.layer5),this.layer5.scale.set(.5),this.layer5.x=e.screen.width+500,this.layer5.zIndex=-100,this.layer5.tint=12828105,this.layer6=new u(e.resources.layer6,e.screen.width,e.screen.height),this.layer6.tileScale.set(.5),this.layer6.zIndex=-100,this.layer6.tint=12828105,this.layer7=new u(e.resources.layer7,e.screen.width,e.screen.height),this.layer7.tileScale.set(.5),this.layer7.zIndex=-100,this.layer7.tint=12828105,this.layer8=new u(e.resources.layer8,e.screen.width,e.screen.height),this.layer8.tileScale.set(.5),this.layer8.zIndex=-100,this.layer8.tint=12828105,this.layer9=new u(e.resources.layer9,e.screen.width,e.screen.height),this.layer9.tileScale.set(.5),this.layer9.zIndex=-100,this.layer9.tint=12828105,e.stage.addChild(this.layer9),e.stage.addChild(this.layer8),e.stage.addChild(this.layer7),e.stage.addChild(this.layer6),e.stage.addChild(this.layer5),e.stage.addChild(this.layer4),e.stage.addChild(this.layer3),e.stage.addChild(this.layer2),e.stage.addChild(this.layer1)}onUpdate(e){this.layer1.tilePosition.x-=4.5,this.layer2.tilePosition.x-=4,this.layer3.tilePosition.x-=3.5,this.layer4.tilePosition.x-=3,this.layer5.position.x-=2.5,this.layer5.position.x+this.layer5.width<0&&(this.layer5.position.x=e.screen.width+500),this.layer6.tilePosition.x-=2,this.layer7.tilePosition.x-=1.5,this.layer8.tilePosition.x-=1,this.layer9.tilePosition.x-=.5}onDestroy(e){e.stage.removeChild(this.layer9),this.layer9.destroy(),e.stage.removeChild(this.layer8),this.layer8.destroy(),e.stage.removeChild(this.layer7),this.layer7.destroy(),e.stage.removeChild(this.layer6),this.layer6.destroy(),e.stage.removeChild(this.layer5),this.layer5.destroy(),e.stage.removeChild(this.layer4),this.layer4.destroy(),e.stage.removeChild(this.layer3),this.layer3.destroy(),e.stage.removeChild(this.layer2),this.layer2.destroy(),e.stage.removeChild(this.layer1),this.layer1.destroy()}}class U{constructor(e){s(this,"sprite");s(this,"circle");s(this,"x");s(this,"y");s(this,"vx");s(this,"vy");s(this,"rotation");s(this,"hitboxRadius");s(this,"destroying");this.sprite=new w(e.resources.playerBulletTexture),this.sprite.anchor.set(.5),this.sprite.scale.set(1/16),e.stage.addChild(this.sprite),this.circle=new m,e.stage.addChild(this.circle),this.x=0,this.y=0,this.vx=0,this.vy=0,this.rotation=0,this.hitboxRadius=10,this.destroying=!1}onUpdate(e){this.x+=this.vx,this.y+=this.vy,this.rotation=Math.atan2(this.vy,this.vx),(this.x<-100||this.y<-100||this.x>e.screen.width+100||this.y>e.screen.height+100)&&(this.destroying=!0)}onCollideWithEnemy(){this.destroying=!0}onDraw(e){this.sprite.x=this.x,this.sprite.y=this.y,this.sprite.rotation=this.rotation-Math.PI/4,this.circle.visible=e.debug,this.circle.visible&&(this.circle.clear(),this.circle.lineStyle(2,16711680),this.circle.drawCircle(0,0,this.hitboxRadius),this.circle.x=this.x,this.circle.y=this.y)}onDestroy(e){e.stage.removeChild(this.sprite),this.sprite.destroy(),e.stage.removeChild(this.circle),this.circle.destroy()}}class V{constructor(e){s(this,"sprite");s(this,"circle");s(this,"x");s(this,"y");s(this,"hitboxRadius");s(this,"shotCooldown");s(this,"invulnerableCooldown");s(this,"hp");s(this,"maxHp");this.sprite=e.resources.playerGif,this.sprite.anchor.set(.5,.6),this.sprite.scale.set(.25),this.sprite.visible=!0,e.stage.addChild(this.sprite),this.circle=new m,e.stage.addChild(this.circle),this.x=e.screen.width/8,this.y=e.screen.height/2,this.hitboxRadius=10,this.shotCooldown=0,this.invulnerableCooldown=0,this.hp=3,this.maxHp=3}onUpdate(e){const i=(e.pressedKeys.has("ArrowLeft")?-1:0)+(e.pressedKeys.has("ArrowRight")?1:0),t=(e.pressedKeys.has("ArrowUp")?-1:0)+(e.pressedKeys.has("ArrowDown")?1:0),r=e.pressedKeys.has("ShiftLeft")?3:6,h=1/Math.sqrt(2);let o,l;if(i<0?t<0?(o=-r*h,l=-r*h):t>0?(o=-r*h,l=r*h):(o=-r,l=0):i>0?t<0?(o=r*h,l=-r*h):t>0?(o=r*h,l=r*h):(o=r,l=0):t<0?(o=0,l=-r):t>0?(o=0,l=r):(o=0,l=0),this.x=Math.min(Math.max(this.x+o,10),e.screen.width-10),this.y=Math.min(Math.max(this.y+l,10),e.screen.height-10),this.shotCooldown>0&&this.shotCooldown--,this.shotCooldown<=0&&(e.pressedKeys.has("KeyZ")||e.pressedKeys.has("Space"))){const n=new U(e);n.x=this.x,n.y=this.y,n.vx=10,n.vy=0,e.addPlayerBullet(n),e.playSound(e.resources.laserSound,.25),this.shotCooldown=10}this.invulnerableCooldown>0&&this.invulnerableCooldown--}onCollideWithEnemyOrEnemyBullet(e){if(this.invulnerableCooldown<=0){if(e.playSound(e.resources.explosion,.25),this.hp>0&&this.hp--,this.hp<=0){e.shouldEnd=!0;return}this.invulnerableCooldown=100}}onDraw(e){this.sprite.x=this.x,this.sprite.y=this.y,this.sprite.visible=Math.floor(this.invulnerableCooldown/4)%2==0,this.circle.visible=e.debug,this.circle.visible&&(this.circle.clear(),this.circle.lineStyle(2,16711680),this.circle.drawCircle(0,0,this.hitboxRadius),this.circle.x=this.x,this.circle.y=this.y)}onDestroy(e){e.stage.removeChild(this.sprite),e.stage.removeChild(this.circle),this.circle.destroy()}}class F{constructor(e){s(this,"sprite");s(this,"circle");s(this,"x");s(this,"y");s(this,"rotation");s(this,"hitboxRadius");s(this,"destroying");this.sprite=new w(e.resources.enemyBulletTexture),this.sprite.anchor.set(.5),this.sprite.scale.set(1/16),e.stage.addChild(this.sprite),this.circle=new m,e.stage.addChild(this.circle),this.x=0,this.y=0,this.rotation=0,this.hitboxRadius=10,this.destroying=!1}onCollideWithPlayer(){this.destroying=!0}onDraw(e){this.sprite.x=this.x,this.sprite.y=this.y,this.sprite.rotation=this.rotation-Math.PI/2,this.circle.visible=e.debug,this.circle.visible&&(this.circle.clear(),this.circle.lineStyle(2,16711680),this.circle.drawCircle(0,0,this.hitboxRadius),this.circle.x=this.x,this.circle.y=this.y)}onDestroy(e){e.stage.removeChild(this.sprite),this.sprite.destroy(),e.stage.removeChild(this.circle),this.circle.destroy()}destroyIfOutsideScreen(e){(this.x<-100||this.y<-100||this.x>e.screen.width+100||this.y>e.screen.height+100)&&(this.destroying=!0)}}class v extends F{constructor(e){super(e);s(this,"vx");s(this,"vy");this.vx=0,this.vy=0}onUpdate(e){this.x+=this.vx,this.y+=this.vy,this.rotation=Math.atan2(this.vy,this.vx),this.destroyIfOutsideScreen(e)}}class R{constructor(e){s(this,"sprite");s(this,"circle");s(this,"x");s(this,"y");s(this,"rotation");s(this,"hitboxRadius");s(this,"destroying");s(this,"hp");s(this,"maxHp");s(this,"scoreValue");this.sprite=new w(e.resources.enemyTexture),this.sprite.anchor.set(.5),this.sprite.scale.set(1/8),e.stage.addChild(this.sprite),this.circle=new m,e.stage.addChild(this.circle),this.x=0,this.y=0,this.rotation=0,this.hitboxRadius=25,this.hp=5,this.maxHp=5,this.scoreValue=1e3,this.destroying=!1}onCollideWithPlayerBullet(e){this.hp>0&&this.hp--,this.hp<=0&&(e.score+=1e3,this.destroying=!0)}onDraw(e){this.sprite.x=this.x,this.sprite.y=this.y,this.sprite.rotation=this.rotation+Math.PI/4,this.circle.visible=e.debug,this.circle.visible&&(this.circle.clear(),this.circle.lineStyle(2,16711680),this.circle.drawCircle(0,0,this.hitboxRadius),this.circle.x=this.x,this.circle.y=this.y);const i=this.hp/this.maxHp;this.sprite.tint=Z([1,i,i])}onDestroy(e){e.stage.removeChild(this.sprite),this.sprite.destroy(),e.stage.removeChild(this.circle),this.circle.destroy()}destroyIfOutsideScreen(e){(this.x<-100||this.y<-100||this.x>e.screen.width+100||this.y>e.screen.height+100)&&(this.destroying=!0)}}class J extends R{constructor(e){super(e);s(this,"vx");s(this,"vy");s(this,"shotTimer");this.vx=0,this.vy=0,this.shotTimer=0}onUpdate(e){if(this.x+=this.vx,this.y+=this.vy,this.rotation=Math.atan2(this.vy,this.vx),this.shotTimer>0&&this.shotTimer--,this.shotTimer<=0){const i=new v(e);i.x=this.x,i.y=this.y;const t=Math.sqrt(this.vx**2+this.vy**2);i.vx=(2+t)*Math.cos(this.rotation),i.vy=(2+t)*Math.sin(this.rotation),e.addEnemyBullet(i),this.shotTimer=100}this.destroyIfOutsideScreen(e)}}class W extends R{constructor(e){super(e);s(this,"sourceX");s(this,"sourceY");s(this,"targetX");s(this,"targetY");s(this,"movementT");s(this,"movementMaxT");s(this,"shotTimer");this.sourceX=0,this.sourceY=0,this.targetX=0,this.targetY=0,this.movementT=0,this.movementMaxT=120,this.shotTimer=0,this.maxHp=3,this.hp=3}onUpdate(e){this.x=E(this.sourceX,this.targetX,this.movementT/this.movementMaxT),this.y=E(this.sourceY,this.targetY,this.movementT/this.movementMaxT),console.log(this),e.player!=null&&(this.rotation=Math.atan2(e.player.y-this.y,e.player.x-this.x)),this.shotTimer>0&&this.shotTimer--,this.shotTimer<=0&&(this.spawnBullets(e),this.resetShotTimer()),this.movementT<this.movementMaxT&&this.movementT++,this.destroyIfOutsideScreen(e)}spawnBullets(e){const i=new v(e);i.x=this.x,i.y=this.y,i.vx=4*Math.cos(this.rotation),i.vy=4*Math.sin(this.rotation),e.addEnemyBullet(i)}resetShotTimer(){this.shotTimer=50}}class O extends W{spawnBullets(e){console.log("spawn");for(let i=0;i<3;i++){const t=new v(e);t.x=this.x,t.y=this.y;const r=this.rotation+.4*(1-i);t.vx=4*Math.cos(r),t.vy=4*Math.sin(r),e.addEnemyBullet(t)}}resetShotTimer(){this.shotTimer=100}}function E(a,e,i){const t=1-Math.pow(1-i,3);return(1-t)*a+t*e}class M{constructor(e,i,t,r){s(this,"stage");s(this,"screen");s(this,"resources");s(this,"audioContext");s(this,"pressedKeys");s(this,"musicAudioNode");s(this,"debug");s(this,"playing");s(this,"background");s(this,"player");s(this,"playerBullets");s(this,"enemies");s(this,"enemyBullets");s(this,"time");s(this,"score");s(this,"difficulty");s(this,"difficultyTimer");s(this,"scoreText");s(this,"lifeRobins");s(this,"shouldEnd");s(this,"_keydownCallback");s(this,"_keyupCallback");this.stage=e,this.screen=i,this.resources=t,this.audioContext=r,this.pressedKeys=new Set,this.musicAudioNode=void 0,this.debug=!1,this.playing=!1,this.background=void 0,this.player=void 0,this.playerBullets=[],this.enemies=[],this.enemyBullets=[],this.time=0,this.score=0,this.difficulty=0,this.difficultyTimer=0,this.shouldEnd=!1,this._keydownCallback=o=>{(o.code==="ArrowUp"||o.code==="ArrowDown")&&o.preventDefault(),this.pressedKeys.add(o.code)},this._keyupCallback=o=>this.pressedKeys.delete(o.code);const h=new b({fill:"white",fontFamily:'"Courier New", Courier, monospace',fontSize:40,fontVariant:"small-caps",fontWeight:"bold",lineHeight:50,align:"center"});this.scoreText=new p("0"),this.scoreText.style=h,this.scoreText.x=this.screen.width-20,this.scoreText.y=10,this.scoreText.anchor.set(1,0),e.addChild(this.scoreText),this.lifeRobins=new C}initializeLifeCounter(e){for(let i=0;i<this.player.hp;i++){let t=new w(e);t.scale.set(.125),t.x=20,t.y=10,t.x+=+(t.width+20)*i,t.tint=12828105,this.lifeRobins.addChild(t)}this.stage.addChild(this.lifeRobins)}start(){window.addEventListener("keydown",this._keydownCallback),window.addEventListener("keyup",this._keyupCallback),this.background=new A(this),this.player=new V(this),this.time=0,this.score=0,this.difficulty=0,this.difficultyTimer=1200,this.debug=!1,this.playing=!0,this.shouldEnd=!1,this.playMusic(this.resources.bgm,.75),this.initializeLifeCounter(this.resources.robinImage)}update(){var e,i;(e=this.background)==null||e.onUpdate(this),(i=this.player)==null||i.onUpdate(this),this.playerBullets.forEach(t=>t.onUpdate(this)),this.enemies.forEach(t=>t.onUpdate(this)),this.enemyBullets.forEach(t=>t.onUpdate(this));for(const t of this.enemies){for(const r of this.playerBullets)this._hasCollided(t,r)&&(t.onCollideWithPlayerBullet(this),r.onCollideWithEnemy());!t.destroying&&this.player!=null&&this._hasCollided(t,this.player)&&this.player.onCollideWithEnemyOrEnemyBullet(this)}if(this.player!=null)for(const t of this.enemyBullets)this._hasCollided(t,this.player)&&(t.onCollideWithPlayer(),this.player.onCollideWithEnemyOrEnemyBullet(this));this.playerBullets=this.playerBullets.filter(t=>(t.destroying&&t.onDestroy(this),!t.destroying)),this.enemies=this.enemies.filter(t=>(t.destroying&&t.onDestroy(this),!t.destroying)),this.enemyBullets=this.enemyBullets.filter(t=>(t.destroying&&t.onDestroy(this),!t.destroying)),this.time++,this.difficultyTimer>0&&this.difficultyTimer--,this.difficultyTimer<=0&&(this.difficulty++,this.difficultyTimer=1200),this.difficulty===0?this.time!==0&&this.time%90==0&&this._spawnSimpleEnemy():this.difficulty===1?this.time%45==0&&this._spawnSimpleEnemy():this.difficulty===2?this.time%90==0&&this._spawnAimingEnemy(!1):this.difficulty===3?(this.time%90==0&&this._spawnAimingEnemy(!1),(this.time+45)%90==0&&this._spawnSimpleEnemy()):this.difficulty===4?this.time%90==0&&this._spawnAimingEnemy(!0):(this.time%90==0&&this._spawnAimingEnemy(!0),(this.time+45)%90==0&&this._spawnSimpleEnemy()),this.score++,this.lifeRobins.children.length>this.player.hp&&this.stage.removeChild(this.lifeRobins.children.pop()),this.scoreText.text=this.score.toString(),this.shouldEnd&&this.end(),this.pressedKeys.has("KeyD")&&(this.debug=!this.debug,this.pressedKeys.delete("KeyD"))}draw(){var e;(e=this.player)==null||e.onDraw(this),this.playerBullets.forEach(i=>i.onDraw(this)),this.enemies.forEach(i=>i.onDraw(this)),this.enemyBullets.forEach(i=>i.onDraw(this))}end(){var i,t,r;window.removeEventListener("keydown",this._keydownCallback),window.removeEventListener("keyup",this._keyupCallback),this.pressedKeys.clear(),(i=this.background)==null||i.onDestroy(this),this.background=void 0,(t=this.player)==null||t.onDestroy(this),this.player=void 0,this.playerBullets.forEach(h=>h.onDestroy(this)),this.playerBullets.length=0,this.enemies.forEach(h=>h.onDestroy(this)),this.enemies.length=0,this.enemyBullets.forEach(h=>h.onDestroy(this)),this.enemyBullets.length=0,this.playing=!1,this.stopMusic();const e=parseInt((r=window.localStorage.getItem("highScore"))!=null?r:"0");this.score>e&&window.localStorage.setItem("highScore",this.score.toString()),window.localStorage.setItem("lastScore",this.score.toString())}addPlayerBullet(e){this.playerBullets.push(e)}addEnemy(e){this.enemies.push(e)}addEnemyBullet(e){this.enemyBullets.push(e)}playSound(e,i){const t=this.audioContext.createBufferSource();t.buffer=e;const r=this.audioContext.createGain();r.gain.value=i,r.connect(this.audioContext.destination),t.connect(r),t.start(),t.onended=()=>r.disconnect()}playMusic(e,i){this.stopMusic(),this.musicAudioNode=this.audioContext.createBufferSource(),this.musicAudioNode.buffer=e,this.musicAudioNode.loop=!0;const t=this.audioContext.createGain();t.gain.value=i,t.connect(this.audioContext.destination),this.musicAudioNode.connect(t),this.musicAudioNode.start(),this.musicAudioNode.onended=()=>t.disconnect()}stopMusic(){this.musicAudioNode!=null&&(this.musicAudioNode.stop(),this.musicAudioNode.disconnect(),this.musicAudioNode=void 0)}_hasCollided(e,i){var t=e.x+e.hitboxRadius-(i.x+i.hitboxRadius),r=e.y+e.hitboxRadius-(i.y+i.hitboxRadius),h=Math.sqrt(t*t+r*r);return h<e.hitboxRadius+i.hitboxRadius}_spawnSimpleEnemy(){const e=Math.PI/8*Math.random()-Math.PI-Math.PI/16,i=3+Math.random()*2,t=new J(this);t.x=this.screen.width+50,t.y=.8*this.screen.height*Math.random()+.1*this.screen.height,t.vx=i*Math.cos(e),t.vy=i*Math.sin(e),this.addEnemy(t)}_spawnAimingEnemy(e){const i=e?new O(this):new W(this);i.x=this.screen.width+50,i.y=.8*this.screen.height*Math.random()+.1*this.screen.height,i.sourceX=i.x,i.sourceY=i.y,i.targetX=this.screen.width*(.6+Math.random()*.3),i.targetY=i.y,this.addEnemy(i)}}class P{constructor(e,i,t){s(this,"stage");s(this,"screen");s(this,"gameHasStarted");s(this,"playButton");this.stage=e,this.screen=t,this.gameHasStarted=!1;const r=new p(`the red 
the robin`);r.style=x.getMainTextStyle(!0),r.x=this.screen.width/2,r.y=this.screen.height/2-125,r.anchor.set(.5);const h=new p("and");h.style=x.getSecondaryTextStyle(),h.x=this.screen.width/2-20,h.y=this.screen.height/2-125,h.anchor.set(.5);const o=new m;o.x=this.screen.width/2-100,o.y=this.screen.height/2,o.beginFill(13993902),o.drawRoundedRect(0,0,200,75,16);const l=new p("play");l.style=x.getMainTextStyle(!1),l.x=100,l.anchor.set(.5),l.y=30,o.addChild(l);const n=new p("By Emily Inns, Carl \xC5stholm and Tomasz Baslyk");n.style=x.getSecondaryTextStyle(),n.anchor.set(.5),n.x=t.width/2,n.y=t.height-n.height/2,n.style.fontSize=28,n.style.fill="white",o.interactive=!0,o.on("pointerdown",()=>this._onClick()),o.on("pointerover",()=>this._onHover()),o.on("pointerout",()=>this._onOut()),this.playButton=o;const y=new u(i,t.width,t.height);y.x=0,y.tint=13091023,y.tileScale.set(.5),y.tilePosition.x=-433,y.tilePosition.y=-5,e.addChild(y),e.addChild(r),e.addChild(h),e.addChild(o),e.addChild(n)}_onClick(){this.gameHasStarted=!0}_onHover(){this.playButton.tint=13091023}_onOut(){this.playButton.tint=16777215}}var L="/red-robin-game/assets/Red-Robin-flying.9e30e1b4.gif",D="/red-robin-game/assets/CedarvilleCursive-Regular.b90e1572.ttf",S="/red-robin-game/assets/platformer_background_2.064651ae.png",j="/red-robin-game/assets/VC_Care.f4d0bb89.png",N="/red-robin-game/assets/VC_Act.f26d70da.png",_="/red-robin-game/assets/VC_Grow.b253a715.png",Q="/red-robin-game/assets/Red_Robin.ff0b1047.png",z="/red-robin-game/assets/layer01_Clouds_1.4d778d6f.png",$="/red-robin-game/assets/layer02_Clouds_2.e75cc93c.png",ee="/red-robin-game/assets/layer03_Clouds_3.8175617c.png",te="/red-robin-game/assets/layer04_Path.b02947d9.png",ie="/red-robin-game/assets/layer05_Castle.6c354a54.png",se="/red-robin-game/assets/layer06_Stars_3.7f7d04e3.png",re="/red-robin-game/assets/layer07_Stars_2.c5555570.png",he="/red-robin-game/assets/layer08_Stars_1.7632cf96.png",oe="/red-robin-game/assets/layer09_Sky.3998fac9.png",le="data:audio/wav;base64,UklGRoMNAABXQVZFZm10IBAAAAABAAEARKwAAESsAAABAAgAZGF0YV8NAACGkJmhqK2xtLW1tLGtqKKbk4uCeXBnXlZOR0E8ODU0NDU3Oz9FTFNcZG13gYqUnaWttLq/w8XHx8XDv7q0rqaelYuCeG9mXlZOSEI+Ozk4ODo9QUZMU1tjbHZ+h5GaoqqxuL3BxMbHxsXCvriyq6ObkomAdm1kXFROR0I+Ozk4OTs+QkdNVFtkbXZ/iJCZoamwt7zAxMbHxsXCvrm0raWdlYyDenBoX1dQSkVAPTo5OTo8QERKUFdfZ3B5goqTm6Srsri9wcTGxsbEwb24s6yknZSLgnlwaF9YUUtFQT07OTk6PEBESU9WXWVudn+HkJmhqK+1u7/CxMbGxcK/u7awqaGZkYh/dm5lXlZQSkRAPTs6Ojs9QEVKUFZeZm12f4eQmKCor7W6vsLExcXEwr+7trCqo5uSioF5cGhgWVJMRkI+PDs6Oz0/Q0hNU1phaXJ6g4uUnKKpsLa7v8LExcXDwb66ta+popqSioF5cGhgWVJNR0M/PTs6Ozw/QkdMUllgZ3B3f4iQmKCnrrS5vcDDxMTEwsC8uLKspp6Xj4Z+dm5mXldRS0ZCPz07Ozw9QENITVNZYGhweICIkJefpq2yuLy/wsPExMLAvbizrqegmZGJgXlxaWJbVE5JREE+PTw8PT9CRUpPVVxjanJ6goqSmaCnrbO4vL/Cw8PDwr+8uLOup6GakoqCenJqY1xWUEpGQj89PDw9PkFESE1TWWBnbnZ+ho6VnKOpr7S5vcDCw8PCwb67t7Kspp+YkYmBeXJqY1xWUEtGQ0A+PT09P0FESE1SWF9mbXR8hIuSmaCnrbK3u77AwsPCwb+8uLSvqaOclY6Gf3dwaGFbVE9KRkNAPj09Pj9CRUlOU1lfZm10e4OKkpmgpqyxtrq9wMHCwsG/vbm1sKulnpiQiYJ6c2tkXlhSTUlFQj8+Pj4/QUNHS1BVW2Fob3Z9hYySmaCmrLG2ur2/wcHBwb+8ubWxq6afmZKLhHx1bmdgWlRQS0dDQT8+Pj5AQkVJTVJXXWNqcXh/ho6VmqGnrLG2uby/wMHBwL68ubWwq6agmZOMhX53cGliXFZRTEhFQkA/Pj9AQkRHS1BVWmFmbXR7gomQlpyiqK2ytrq8vsDAwL++u7i0sKumoJmTjIV+eHFqY11YUk5KRkNBQD8/QEJER0pOU1heZGpxd36FjJKYnqSqr7O3ur2+wMDAvr26t7OvqqSfmJKMhX53cGpkXlhTT0pHREJBQEBAQkRGSk1SV1xiaG51e4KJj5acoqessbW4u72/v7+/vbu5tbGtqKOdl5CKg312cGljXVhTTktIRUNBQEBBQkRGSk1SVlxhZ21zeoCHjZOZn6SqrrK2uby9vr+/vry6t7Swq6ahm5WPiYJ8dW9pY11YU09LSEVDQkFBQUJER0pNUVZbYGVrcXh+hYuRlpyip6ywtLe6vL2+vr69u7i1sq6ppJ+alI6HgXt0bmhjXVhTT0tJRkRCQUFCQ0VHSk1RVVpfZGpwdnyCiY6Ump+lqa6ytbi6vL2+vr27ube0sKyoo56YkoyGgHp0bmhiXVhUUExJRkRDQkJCQ0VHSU1QVFleY2hudHqAhoySl52hpquvsra4ury9vb28uri2s6+rp6Kdl5KMhoB6dG5pY15ZVVFNSkhFRENCQ0NFR0lMT1NXXGFmbHF3fYKIjpSZnqOorLCztrm6vLy8vLu5t7WyrqqmoZyWkYuGgHp0bmlkX1pWUk5LSUZFRENDREVHSUtPUlZaX2Rpb3R6gIWKkJaboKWprbG0tri6u7y8u7q5t7SxraqloZyXkYyGgHt1b2plYFxXU09NSkhGRUREREVGSEtNUVRYXWFma3F2e4GGjJGXm6Ckqa2ws7a4ubq7u7u6uLa0sa6qpqKdmJOOiIN9eHJtaGNfWlZST0xJSEZFRURFRkdJTE5SVVldYmdscXZ7gIaLkJabn6Onq66ytLa4ubq6urq4t7Syr6uopJ+blpGLhoF8dnFsZ2JeWlZST0xKSEdGRUVGRkhKTE9SVVldYWZrcHV6f4SJj5SYnaGlqaywsrW3uLm6urm4t7WzsK2qpqKemZWQi4aAe3ZxbGdjXlpWU1BNS0lIRkZGRkdISkxOUVRYXGBkaW5yd3yBhoyQlZmeoqaqrbCztbe4ubm5ubi2tbKwraqmop6ZlZCLhoF8d3JtaWRgXFhVUk9MSklIR0ZHR0hJS01QU1ZZXWFmam90eH2Ch4yRlZmdoqWprK+ytLa3uLi4uLe2tbOwraqno5+bl5KOiYR/enVxbGdjX1tYVFFPTEtJSEdHR0hJSkxOUFNWWl1hZWpucnd8gYaKjpOXnKCkp6qtsLK0tre3uLi3trWzsa+sqaainpqWkY2IhH96dXFsaGRgXFlVU1BOTEpJSUhISUlLTE5QU1ZZXGBkaGxwdXl9goeLj5OXm5+jpqmsrrCytLW1tra1tLOxsK2rqKWinpqWko6KhYF9eHRvbGhkYF1aV1RSUE5NTExLS0xMTk9RU1VYW15hZWlscHR4fYGFiY2RlZmcoKOmqKutr7CxsrKzsrKxsK6sqqilop+cmJSRjYmFgX15dXFtaWZjX1xaV1VTUlBPT05OT09QUVNUV1lbXmFkaGtvcnZ6foGFiY2RlJeanqGjpqiqq62ur6+vr6+urayqqKakoZ+cmJWSjouHg398eHRxbWpnZGFeXFpYVlVTUlJRUVJSU1RVV1lbXV9iZWhrbnJ1eHyAg4eKjZGUl5qdn6KkpqipqqusrKysrKuqqaimpKKfnZqXlJGOi4eEgH16dnNwbWpnZGJfXVtaWFdWVVVUVFVVVldYWltdX2JkZ2psb3J2eXx/goaJjI+SlJeanJ6hoqSmp6ipqampqamop6ako6GfnZqYlZKQjYqHhIB9end0cW5saWdkYmBeXVtaWVhYWFdYWFlZWlxdX2BiZWdpbG5xdHd5fH+ChYiLjZCTlZeZnJ6foaKjpKWmpqampqWko6Khn56cmpiVk5COi4iGg4B9e3h1cnBta2lnZWNhYF5dXFxbW1tbW1tcXV5fYGJkZWdpbG5wc3V4en2AgoWHioyPkZOVl5mbnJ6foKGioqOjo6OioqGgn56cm5mXlZORjoyKh4WCgH17eHZzcW9ta2lnZWRjYmBgX15eXl5eXl9gYGFiZGVnaGpsbnBydXd5e36AgoWHiYuNkJGTlZeYmpucnZ6fn6CgoKCfn56dnZuamZeWlJKQjoyKiIaEgn99e3l3dHJwb21ramhnZmRkY2JiYWFhYWFiYmNkZWZnaGprbW9wcnR2eHp8foCChIaIioyOkJGTlJWXmJmam5ucnJ2dnZycnJuamZiXlpWTkpCOjYuJh4WDgX99e3p4dnRycW9ubGtqaWhnZmVlZWRkZGRlZWVmZ2hpamtsbm9wcnR1d3l7fH6AgoOFh4iKjI2PkJGTlJWWl5eYmZmZmZmZmZmYmJeWlZSTkpGQjo2LioiGhYOBgH58e3l3dnRzcnBvbm1sa2ppaWhoaGdnZ2hoaGlpamtrbG1ucHFyc3V2eHl7fH5/gYKEhYeIiouMjY+QkZKTk5SVlZaWlpaWlpaWlZWUlJOSkZCPjo2LiomHhoWDgoB/fXx7eXh3dXRzcnFwb25tbWxsa2tra2pra2trbGxtbW5vcHBxcnN1dnd4eXt8fX+AgYKEhYaHiImLjIyNjo+QkJGSkpKTk5OTk5OTkpKRkZCQj46NjIuKiYiHhoWEg4GAf359e3p5eHd2dXRzcnJxcHBvb25ubm5ubm5ubm5vb3BwcXFyc3R0dXZ3eHl6e3x9foCBgoOEhYaHh4iJiouLjI2Njo6Pj4+QkJCQkJCPj4+Ojo6NjIyLioqJiIeGhYSDgoGAgH9+fXx7enl4d3d2dXV0c3NzcnJycXFxcXFxcXFxcnJyc3N0dHV2dnd4eHl6e3t8fX5/gICBgoOEhIWGh4eIiYmKiouLi4yMjIyMjY2NjIyMjIyLi4uKiomJiIeHhoWFhIODgoGAgH9+fX18e3t6eXl4eHd3dnZ2dXV1dHR0dHR0dHR0dXV1dXZ2dnd3eHh5eXp6e3x8fX1+f3+AgYGCgoODhISFhoaGh4eIiIiIiYmJiYmJiYmJiYmJiYmIiIiHh4eGhoWFhISDg4KCgYGAgH9/fn59fXx8e3t6enp5eXl4eHh4eHh3d3d3d3d3eHh4eHh4eXl5enp6e3t7fHx9fX1+fn9/f4CAgYGCgoKDg4OEhISEhYWFhYaGhoaGhoaGhoaGhoaGhoWFhYWFhISEhIODg4KCgoGBgYCAgH9/f35+fn19fX18fHx8fHt7e3t7e3t7e3t7e3t7e3t7e3t7e3t8fHx8fH19fX19fn5+fn9/f3+AgICAgIGBgYGBgoKCgoKCgoKDg4ODg4ODg4ODg4ODg4ODg4KCgoKCgoKCgYGBgYGBgYCAgICAgH9/f39/f39/fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5/f39/f39/f39/f39/f4CAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA=",ne="/red-robin-game/assets/explosion.f059f2b3.wav",ae="/red-robin-game/assets/My Song 25.2a56867f.wav";G.registerPlugin(K);G.registerPlugin(H);const c=new Y({width:640,height:480,resolution:window.devicePixelRatio,backgroundColor:13158});c.ticker.minFPS=15;c.ticker.maxFPS=60;c.stage.sortableChildren=!0;document.body.appendChild(c.view);c.loader.add("playerGif",L);c.loader.add("cedarvilleCursive",D);let g="menu";c.loader.load(async a=>{const e=new AudioContext,i=new C;i.visible=!1,i.sortableChildren=!0,c.stage.addChild(i);const t=new C;t.visible=!0,c.stage.addChild(t);const r=new P(t,d.from(S),c.screen),h=new C;h.visible=!1,h.sortableChildren=!0,c.stage.addChild(h);const o=new M(h,c.screen,{playerGif:a.resources.playerGif.animation,playerBulletTexture:d.from(j),enemyTexture:d.from(N),enemyBulletTexture:d.from(_),backgroundTexture:d.from(S),robinImage:d.from(Q),layer1:d.from(z),layer2:d.from($),layer3:d.from(ee),layer4:d.from(te),layer5:d.from(ie),layer6:d.from(se),layer7:d.from(re),layer8:d.from(he),layer9:d.from(oe),laserSound:await e.decodeAudioData(await(await fetch(le)).arrayBuffer()),explosion:await e.decodeAudioData(await(await fetch(ne)).arrayBuffer()),bgm:await e.decodeAudioData(await(await fetch(ae)).arrayBuffer())},e),l=new q(i,d.from(S),c.screen);c.ticker.add(()=>{g==="menu"&&r.gameHasStarted&&(t.visible=!1,h.visible=!0,i.visible=!1,o.start(),g="game"),g==="game"&&(o.update(),o.draw(),o.playing||(t.visible=!1,h.visible=!1,i.visible=!0,l.shouldExit=!1,l.update(),g="end")),g==="end"&&l.shouldExit&&(t.visible=!0,h.visible=!1,i.visible=!1,r.gameHasStarted=!1,g="menu")})});
